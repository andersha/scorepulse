<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSV Format Guide - ScorePulse</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>üìñ CSV Format Guide</h1>
        <p class="subtitle">Complete reference for creating ScorePulse score files</p>

        <div class="card">
            <h2>Overview</h2>
            <p>ScorePulse uses a <strong>sparse data model</strong> where you only specify bars where something changes. You don't need to list every bar‚Äîjust the ones where tempo, time signature, or rehearsal marks change.</p>
            <p>The CSV file uses <strong>semicolon (;) delimiters</strong>, not commas. This allows commas to be used in text fields.</p>
        </div>

        <div class="card">
            <h2>CSV Structure</h2>
            <p>The first row must be the header row with these exact column names:</p>
            <pre><code>BAR NUMBER;TIME SIGNATURE;DIVISION;TEMPO;REHEARSAL MARKING;TEXT MARKING</code></pre>
            
            <table>
                <thead>
                    <tr>
                        <th>Column</th>
                        <th>Required</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>BAR NUMBER</code></td>
                        <td class="required">Yes</td>
                        <td>Sequential integer starting from 1. Every bar must be listed.</td>
                    </tr>
                    <tr>
                        <td><code>TIME SIGNATURE</code></td>
                        <td class="optional">When changes</td>
                        <td>Format: <code>4/4</code>, <code>3/4</code>, <code>6/8</code>, <code>7/8</code>, etc.</td>
                    </tr>
                    <tr>
                        <td><code>DIVISION</code></td>
                        <td class="optional">For irregular meters</td>
                        <td>Accent pattern like <code>2+2+3</code> for 7/8 time</td>
                    </tr>
                    <tr>
                        <td><code>TEMPO</code></td>
                        <td class="optional">When changes</td>
                        <td>BPM (20-300) or transition: <code>acc</code>, <code>rit</code></td>
                    </tr>
                    <tr>
                        <td><code>REHEARSAL MARKING</code></td>
                        <td class="optional">Optional</td>
                        <td>Letter or number: <code>A</code>, <code>B</code>, <code>1</code>, <code>42</code>, etc.</td>
                    </tr>
                    <tr>
                        <td><code>TEXT MARKING</code></td>
                        <td class="optional">Optional</td>
                        <td>Tempo text: <code>Allegro</code>, <code>Andante</code>, etc.</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="card">
            <h2>Column Details</h2>

            <h3>BAR NUMBER</h3>
            <p>Must be sequential integers starting from 1. Every bar in your piece must have a row, even if all other columns are empty.</p>
            <pre><code>1;4/4;;120;A;Moderato
2;;;;;
3;;;;;
4;3/4;;;;
5;;;;;</code></pre>

            <h3>TIME SIGNATURE</h3>
            <p>Standard notation with numerator/denominator. Only specify when it changes.</p>
            <p>Supported formats:</p>
            <ul>
                <li>Simple meters: <code>4/4</code>, <code>3/4</code>, <code>2/4</code>, <code>5/4</code></li>
                <li>Compound meters: <code>6/8</code>, <code>9/8</code>, <code>12/8</code></li>
                <li>Irregular meters: <code>5/8</code>, <code>7/8</code>, <code>11/8</code></li>
                <li>Cut time: <code>2/2</code>, <code>3/2</code></li>
                <li>Sixteenth meters: <code>7/16</code>, <code>11/16</code> (requires DIVISION)</li>
            </ul>

            <h3>DIVISION (Accent Pattern)</h3>
            <p>For irregular meters, specify how beats are grouped using <code>+</code> notation:</p>
            <ul>
                <li><code>7/8</code> ‚Üí <code>2+2+3</code> or <code>3+2+2</code> or <code>2+3+2</code></li>
                <li><code>5/8</code> ‚Üí <code>2+3</code> or <code>3+2</code></li>
                <li><code>11/8</code> ‚Üí <code>3+3+3+2</code> or <code>2+3+3+3</code></li>
            </ul>
            <div class="warning">
                <strong>Important:</strong> The division must sum to the time signature numerator. For <code>7/8</code>, divisions must sum to 7.
            </div>
            <div class="tip">
                <strong>Tip:</strong> Sixteenth-note meters (<code>/16</code>) always require a division to be specified.
            </div>

            <h3>TEMPO</h3>
            <p>Specify tempo in BPM (beats per minute), or use transition markers:</p>
            <table>
                <thead>
                    <tr><th>Value</th><th>Meaning</th></tr>
                </thead>
                <tbody>
                    <tr><td><code>120</code></td><td>Set tempo to 120 BPM</td></tr>
                    <tr><td><code>acc</code></td><td>Begin accelerando (gradual speed up to next tempo)</td></tr>
                    <tr><td><code>rit</code></td><td>Begin ritardando (gradual slow down to next tempo)</td></tr>
                </tbody>
            </table>
            <p>Tempo must be between 20 and 300 BPM.</p>

            <h3>REHEARSAL MARKING</h3>
            <p>Letters or numbers used by conductors to identify sections. Common formats:</p>
            <ul>
                <li>Letters: <code>A</code>, <code>B</code>, <code>C</code>...</li>
                <li>Numbers: <code>1</code>, <code>2</code>, <code>3</code>...</li>
                <li>Bar numbers: <code>9</code>, <code>25</code>, <code>42</code>...</li>
            </ul>

            <h3>TEXT MARKING</h3>
            <p>Descriptive tempo/expression text that appears with tempo changes:</p>
            <ul>
                <li><code>Allegro</code>, <code>Andante</code>, <code>Adagio</code></li>
                <li><code>Pi√π mosso</code>, <code>Meno mosso</code></li>
                <li><code>Maestoso</code>, <code>Cantabile</code></li>
            </ul>
            <div class="tip">
                <strong>Note:</strong> Text markings only appear when there's also a tempo value (not for <code>acc</code>/<code>rit</code> transitions).
            </div>
        </div>

        <div class="card">
            <h2>Complete Example</h2>
            <p>Here's a sample score with various features:</p>
            <pre><code>BAR NUMBER;TIME SIGNATURE;DIVISION;TEMPO;REHEARSAL MARKING;TEXT MARKING
1;4/4;;120;A;Moderato
2;;;;;
3;;;;;
4;;;;;
5;;;;;
6;;;;;
7;;;;;
8;;;;;
9;3/4;;;B;
10;;;;;
11;;;;;
12;;;;;
13;;;acc;;
14;4/4;;140;;Allegro
15;;;;;
16;;;;;
17;7/8;2+2+3;;C;
18;;;;;
19;;;;;
20;;;;;
21;;;rit;;
22;;;100;D;Andante
23;;;;;
24;4/4;;;;
25;;;;;</code></pre>

            <p>This creates a score with:</p>
            <ul>
                <li>Starts in 4/4 at 120 BPM (Moderato)</li>
                <li>Changes to 3/4 at bar 9 (rehearsal B)</li>
                <li>Accelerando in bar 13, reaching 140 BPM (Allegro) at bar 14</li>
                <li>Changes to 7/8 with 2+2+3 grouping at bar 17 (rehearsal C)</li>
                <li>Ritardando in bar 21, settling at 100 BPM (Andante) at bar 22</li>
                <li>Returns to 4/4 at bar 24</li>
            </ul>
        </div>

        <div class="card">
            <h2>Tips for Success</h2>
            <ol>
                <li><strong>Start with bar 1:</strong> The first bar must define at least a time signature and tempo.</li>
                <li><strong>List every bar:</strong> Even empty bars need a row with just the bar number.</li>
                <li><strong>Use semicolons:</strong> Not commas! Semicolons separate columns.</li>
                <li><strong>Check your divisions:</strong> Make sure accent patterns sum to the time signature.</li>
                <li><strong>Transitions need targets:</strong> After <code>acc</code> or <code>rit</code>, the next tempo bar is the target.</li>
            </ol>
        </div>

        <div class="links">
            <a href="converter.html">‚Üê Back to Converter</a>
            <a href="template.csv" download>Download Template</a>
            <a href="scores.html">Example Scores</a>
        </div>
    </div>
</body>
</html>
